<!DOCTYPE html>
<html{% if lang %} lang="{{ lang }}"{% endif %}>
<head>
    {% block head -%}
    <title>{{ config(constant('Tinebase_Config::BRANDING_TITLE')) }}</title>

    {% if base is defined -%}
    <base href='{{ base }}'>
    {% endif %}
    
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-Tine20-Version" content="{{ constant('TINE20_PACKAGESTRING') }}" />
    <meta name="google" content="notranslate">

    {% if not noLoadingAnnimation -%}
    <style type="text/css">
        @keyframes loading-animation { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
        @media (prefers-color-scheme: dark) { body { background-color: black; } }
        .tine-viewport-waitcycle { animation-name: loading-animation; animation-duration: 1000ms; animation-iteration-count: infinite; animation-timing-function: cubic-bezier(.17, .67, .52, .71); position: absolute; top: 50%; left: 50%; margin-top: -16px; margin-left: -16px; width: 32px; height: 32px; box-sizing: border-box; border: 2px solid #ccc !important; border-top: 2px solid #2196f3 !important; border-radius: 100%; }
        .tine-viewport-poweredby { position: absolute; bottom: 10px; right: 10px; font:normal 12px arial, helvetica,tahoma,sans-serif; }
    </style>
    {% endif %}

    <style>@media (prefers-color-scheme: dark) { body {background-color: black} } </style>

    {% block metaViewport -%}
    <meta name="viewport" content="width=device-width">
    {% endblock %}

    {% block relFavicon -%}
    <link rel="icon" type="image/png" href="favicon/16" sizes="16x16">
    <link rel="icon" type="image/png" href="favicon/32" sizes="32x32">
    <link rel="icon" type="image/png" href="favicon/96" sizes="96x96">

    <link rel="apple-touch-icon" href="favicon/120">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon/180">
    <link rel="apple-touch-icon" sizes="152x152" href="favicon/152">
    <link rel="apple-touch-icon" sizes="167x167" href="favicon/167">
    {% endblock %}

    {% block brandingMaskiconColor -%}
    <link rel="mask-icon" href="favicon/svg" color="{{ config(constant('Tinebase_Config::BRANDING_MASKICON_COLOR')) }}">
    {%- endblock %}
  {%- endblock %}

</head>
<body>
    {% block body -%}
    {% if not noLoadingAnnimation -%}
    <div class="tine-viewport-waitcycle">&#160;</div>
    {% endif -%}
    {% if not noLoadingAnnimation -%}
        <div class="tine-viewport-poweredby">Powered by: <a target="_blank" href="{{ config(constant('Tinebase_Config::BRANDING_WEBURL')) }}" title="{{ config(constant('Tinebase_Config::BRANDING_DESCRIPTION')) }}">{{ config(constant('Tinebase_Config::BRANDING_TITLE')) }}</a></div>
    {% endif %}

    <div id="tine-viewport-app"></div>

    {% block jsIncludes -%}
    {%- include 'Tinebase/views/partials/jsInclude.html.twig' -%}
    {%- endblock %}

    {% if initialData is defined -%}
    <script type="text/javascript">window.initialData={{ initialData | raw }};</script>
    {% endif %}
    
    {% if not noLoadingAnnimation -%}
    <noscript><p>You need to enable javascript to use <a target="_blank" href="{{ config(constant('Tinebase_Config::BRANDING_WEBURL')) }}" title="{{ config(constant('Tinebase_Config::BRANDING_DESCRIPTION')) }}">{{ config(constant('Tinebase_Config::BRANDING_TITLE')) }}</a></p></noscript>
    {%- endif %}
  {%- endblock %}

</body>
</html>
